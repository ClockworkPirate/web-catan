var rolls=[5,2,6,3,8,10,9,12,11,4,8,10,9,4,5,6,3,11],doge=new Image;doge.src="images/doge.png";var pepe=new Image;pepe.src="images/pepe.png";var interesting=new Image;interesting.src="images/interesting.png";var terrainTypes={doge:9,pepe:9,interesting:1},terrain=[];for(var typ in terrainTypes)for(var i=0;i<terrainTypes[typ];i++)terrain.push(eval(typ));terrain=shuffleArray(terrain);var catanBoard=function(e){for(var t=[],i=0,n=Math.floor(Math.random()*(rolls.length+1)),r=0;e>r;r++){for(var a=[],s=e-Math.abs(e/2-r)-(r>e/2?1:0),o=0;s>o;o++)a.push(i+o==n?-1:rolls.shift());t.push(a),i+=s}console.log(t)},SQRT_3=Math.sqrt(3),makeNiceContext=function(e){return e.x=0,e.y=0,e.move=function(e,t){return this.x=e,this.y=t,this.moveTo(e,t)},e.moveR=function(e,t){return this.x+=e,this.y+=t,this.moveTo(this.x,this.y)},e.lineR=function(e,t){return this.x+=e,this.y+=t,this.lineTo(this.x,this.y)},e.drawRegHex=function(e){this.moveR(0,-e),this.lineR(SQRT_3*e/2,e/2),this.lineR(0,e),this.lineR(SQRT_3*-e/2,e/2),this.lineR(SQRT_3*-e/2,-e/2),this.lineR(0,-e),this.lineR(SQRT_3*e/2,-e/2),this.moveR(0,e)},e.moveHexCenter=function(e,t,i){this.moveR(SQRT_3*e*(t-(i%2==0?0:.5)),1.5*e*i)},e.imageR=function(e,t,i,n,r){this.drawImage(e,this.x+t-n/2,this.y+i-r/2,n,r)},e.drawCatanBoard=function(e){this.moveHexCenter(e,2,-3);var t=[3,4,5,4,3],i=1;for(var n in t){this.moveHexCenter(e,i-t[n],1);for(var r=0;r<t[n];r++)this.drawRegHex(e),this.imageR(terrain.pop(),0,0,SQRT_3*e,2*e),this.moveHexCenter(e,1,0);2==n&&i--}this.stroke(),this.moveHexCenter(e,-2.5,-2)},e},main=function(){var e=makeNiceContext($("canvas#board")[0].getContext("2d")),t=80;e.move(400,400),e.drawCatanBoard(t)};$(window).load(main);